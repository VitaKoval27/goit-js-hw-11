{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        q: query,\n        key: '51327583-eda9110ddf8c3e7e62438a086',\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n\n    .then(response => response.data)\n    .catch(error => {\n      console.error('ERROR:', error);\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from '../main';\nlet photo;\nexport function createGallery(images) {\n  const img = images\n    .map(\n      ({\n        webformatURL,\n        tags,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n       <a class=\"gallery-link\" href=\"${largeImageURL}\">\n       <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n      />\n      <ul class=info-wrapper>\n      <li class=\"info-item\">\n      <span>likes</span>\n      ${likes}\n      </li>\n      <li class=\"info-item\">\n      <span>Comments</span>\n      ${comments}\n      </li>\n      <li class=\"info-item\"><span> Views</span>\n      ${views}</li>\n      <li class=\"info-item\"><span>Downloads</span>\n      ${downloads}</li>\n      </ul>\n      \n     </a>\n    </li>\n     `\n    )\n    .join('');\n  if (!photo) {\n    photo = new SimpleLightbox('.gallery a', {});\n  }\n\n  refs.gallery.insertAdjacentHTML('beforeend', img);\n  photo.refresh();\n}\nexport function clearGallery() {\n  refs.gallery.innerHTML = '';\n}\nexport function showLoader() {\n  refs.loader.classList.add('is-open');\n}\nexport function hideLoader() {\n  refs.loader.classList.remove('is-open');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\nexport const refs = {\n  form: document.querySelector('form'),\n  btn: document.querySelector('button'),\n  input: document.querySelector('input[name=\"search-text\"]'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const query = refs.input.value.trim();\n  if (!query) {\n    return;\n  }\n  clearGallery();\n  showLoader();\n  getImagesByQuery(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: '(',\n          message: `Sorry, there are no images matching your search ${query}. Please try again!`,\n          position: 'topRight',\n        });\n        return;\n      }\n      createGallery(data.hits);\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      hideLoader();\n      refs.form.reset();\n    });\n}\n"],"names":["getImagesByQuery","query","axios","response","error","photo","createGallery","images","img","webformatURL","tags","largeImageURL","likes","views","comments","downloads","SimpleLightbox","refs","clearGallery","showLoader","hideLoader","onSubmit","event","data","iziToast"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EAEA,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,SAAUA,CAAK,EACvBA,CACZ,CAAK,CACL,CChBA,IAAIC,EACG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAMD,EACT,IACC,CAAC,CACC,aAAAE,EACA,KAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,uCAC2BJ,CAAa;AAAA;AAAA;AAAA,eAGrCF,CAAY;AAAA,eACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,QAKXE,CAAK;AAAA;AAAA;AAAA;AAAA,QAILE,CAAQ;AAAA;AAAA;AAAA,QAGRD,CAAK;AAAA;AAAA,QAELE,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAMZ,EACA,KAAK,EAAE,EACLV,IACHA,EAAQ,IAAIW,EAAe,aAAc,CAAE,CAAA,GAG7CC,EAAK,QAAQ,mBAAmB,YAAaT,CAAG,EAChDH,EAAM,QAAO,CACf,CACO,SAASa,GAAe,CAC7BD,EAAK,QAAQ,UAAY,EAC3B,CACO,SAASE,GAAa,CAC3BF,EAAK,OAAO,UAAU,IAAI,SAAS,CACrC,CACO,SAASG,GAAa,CAC3BH,EAAK,OAAO,UAAU,OAAO,SAAS,CACxC,CChDO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,MAAM,EACnC,IAAK,SAAS,cAAc,QAAQ,EACpC,MAAO,SAAS,cAAc,2BAA2B,EACzD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUI,CAAQ,EAE7C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMrB,EAAQgB,EAAK,MAAM,MAAM,KAAI,EAC9BhB,IAGLiB,IACAC,IACAnB,EAAiBC,CAAK,EACnB,KAAKsB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,MAAO,IACP,QAAS,mDAAmDvB,CAAK,sBACjE,SAAU,UACpB,CAAS,EACD,MACD,CACDK,EAAciB,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMnB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbgB,IACAH,EAAK,KAAK,OAChB,CAAK,EACL"}